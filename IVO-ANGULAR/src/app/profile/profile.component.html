<div class="container">
  <div class="row">
    <div class="col-xl-4 justify-content-center ">
      <!-- Profile picture card-->
      <div class="card mb-4 mb-xl-0">
        <div class="card-header"
          [ngStyle]="{'background-color': (currentUser.success.role == 'paciente') ? ('#7fb6bf') : (currentUser.success.role == 'medico') ? ('#385282') : ('#B5B5B5')}">
          Foto de perfil</div>
        <div class="card-body text-center">
          <!-- Profile picture upload button-->
          <div *ngFor="let progressInfo of progressInfos" class="mb-2">
            <div class="progress">
              <div
                class="progress-bar progress-bar-info progress-bar-striped"
                role="progressbar"
                attr.aria-valuenow="{{ progressInfo.value }}"
                aria-valuemin="0"
                aria-valuemax="100"
                [ngStyle]="{ width: progressInfo.value + '%' }"
              >
                {{ progressInfo.value }}%
              </div>
            </div>
          </div>
          
          <div class="row">
            <div class="col-8">
              <label class="btn btn-default p-0">
                <input type="file" accept="image/*" multiple (change)="selectFiles($event)" />
              </label>
            </div>
          
            <div class="col-4">
              <button
                class="btn btn-success btn-sm"
                [disabled]="!selectedFiles"
                (click)="uploadFiles()"
              >
                Subir imagen
              </button>
            </div>
          </div>
          
          <div>
            <img *ngFor='let preview of previews' [src]="preview" class="preview">
          </div>
          
          <div *ngIf="message.length" class="alert alert-secondary my-3" role="alert">
            <ul *ngFor="let msg of message; let i = index">
              <li>{{ msg }}</li>
            </ul>
          </div>
          <!-- Profile picture image-->
          <div *ngIf="currentUser.success.foto">
            <img class="rounded-circle img-account-profile zoom" src="/assets/images/perfil_falso.webp">
          </div>
          <!-- Profile picture help block-->
          <br><br>
          <div class="big font-italic mb-4 text-uppercase">{{ currentUser.success.role }}</div>
        </div>
      </div>
    </div>
    <div class="col-xl-8">
      <!-- Account details card-->
      <div class="card mb-8">
        <div class="card-header"
          [ngStyle]="{'background-color': (currentUser.success.role == 'paciente') ? ('#7fb6bf') : (currentUser.success.role == 'medico') ? ('#385282') : ('#B5B5B5')}">
          Información</div>
        <div class="card-body">
          <form>
            <!-- Form Group (username)-->
            <div class="mb-3">
              <label class="mb-1">Nombre</label>
              <input class="form-control shadow text-uppercase negrita" type="text"
                value="{{ currentUser.success.nombre }}" disabled>
            </div>
            <!-- Form Row-->
            <div class="row gx-3 mb-3">
              <!-- Form Group (first name)-->
              <div class="col-md-6">
                <label class="mb-1">Apellido1</label>
                <input class="form-control shadow text-uppercase negrita" type="text"
                  value="{{ currentUser.success.apellido1 }}" disabled>
              </div>
              <!-- Form Group (last name)-->
              <div class="col-md-6">
                <label class="mb-1">Apellido2</label>
                <input class="form-control shadow text-uppercase negrita" type="text"
                  value="{{ currentUser.success.apellido2 }}" disabled>
              </div>
            </div>
            <!-- Form Row        -->
            <div class="row gx-3 mb-3">
              <!-- Form Group (organization name)-->
              <div class="col-md-6">
                <label class="mb-1">DNI</label>
                <input class="form-control shadow text-uppercase negrita" type="text"
                  value="{{ currentUser.success.dni }}" disabled>
              </div>
              <!-- Form Group (location)-->
              <div class="col-md-6">
                <label class="mb-1">Sexo</label>
                <input class="form-control shadow text-uppercase negrita" type="text"
                  value="{{ currentUser.success.sexo }}" disabled>
              </div>
            </div>
            <!-- Form Group (email address)-->
            <div class="mb-3">
              <label class="mb-1">Email</label>
              <input class="form-control shadow text-uppercase negrita" type="email"
                value="{{ currentUser.success.email }}" disabled>
            </div>
            <!-- Form Row-->
            <div class="row gx-3 mb-3">
              <!-- Form Group (phone number)-->
              <div class="col-md-6">
                <label class="mb-1">Dirección</label>
                <input class="form-control shadow text-uppercase negrita" type="tel"
                  value="{{ currentUser.success.sexo }}" disabled>
              </div>
              <!-- Form Group (birthday)-->
              <div class="col-md-6">
                <label class="mb-1">Fecha de Nacimiento</label>
                <input class="form-control shadow text-uppercase negrita" type="text"
                  value="{{ currentUser.success.fecha_nacimiento}}" disabled>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>